<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <!-- Primary Meta Tags -->
    <title>{% block title %}Finance Alert{% endblock %}</title>
    <meta name="title" content="{% block meta_title %}Money Mates - Group Finance Tracker & Daily Reminders{% endblock %}">
    <meta name="description" content="{% block meta_description %}Track group contributions, manage balances, and receive automated daily reminders for your savings group. Stay on top of your financial commitments with Money Mates.{% endblock %}">
    <meta name="keywords" content="{% block meta_keywords %}finance tracker, group savings, contribution tracker, daily reminders, money management, finance alert, savings group{% endblock %}">
    <meta name="author" content="Money Mates">
    <meta name="robots" content="{% block meta_robots %}index, follow{% endblock %}">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="{% block og_url %}{{ request.build_absolute_uri }}{% endblock %}">
    <meta property="og:title" content="{% block og_title %}Money Mates - Group Finance Tracker{% endblock %}">
    <meta property="og:description" content="{% block og_description %}Track contributions, manage balances, and stay organized with automated reminders.{% endblock %}">
    <meta property="og:image" content="{% block og_image %}{{ request.scheme }}://{{ request.get_host }}/static/images/og-image.jpg{% endblock %}">
    <meta property="og:site_name" content="Money Mates">
    
    <!-- Twitter Card -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="{% block twitter_url %}{{ request.build_absolute_uri }}{% endblock %}">
    <meta property="twitter:title" content="{% block twitter_title %}Money Mates - Group Finance Tracker{% endblock %}">
    <meta property="twitter:description" content="{% block twitter_description %}Track contributions and manage group finances with ease.{% endblock %}">
    <meta property="twitter:image" content="{% block twitter_image %}{{ request.scheme }}://{{ request.get_host }}/static/images/twitter-card.jpg{% endblock %}">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/static/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="/static/apple-touch-icon.png">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="{% block canonical %}{{ request.build_absolute_uri }}{% endblock %}">
    
    <!-- Preconnect for performance -->
    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    <link rel="dns-prefetch" href="https://cdn.jsdelivr.net">
    
    <!-- Stylesheets -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    
       <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-54WD6F5BVN"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-54WD6F5BVN');
    </script>
    {% block extra_head %}{% endblock %}
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark mb-4">
      <div class="container">
        <a class="navbar-brand" href="/">Money Mates</a>
        <ul class="navbar-nav ms-auto">
          {% if request.user.is_authenticated %}
          <li class="nav-item"><a class="nav-link" href="{% url 'users:profile' %}">Profile</a></li>
          <li class="nav-item"><a class="nav-link" href="{% url 'users:logout' %}">Logout</a></li>
          {% else %}
          <li class="nav-item"><a class="nav-link" href="{% url 'users:login' %}">Login</a></li>
          <li class="nav-item"><a class="nav-link" href="{% url 'users:signup' %}">Sign up</a></li>
          {% endif %}
        </ul>
      </div>
    </nav>
    <main class="container">
      {% if messages %}
      <div class="mb-3">
        {% for message in messages %}
          <div class="alert alert-{{ message.tags|default:'info' }}" role="alert">{{ message }}</div>
        {% endfor %}
      </div>
      {% endif %}
      {% block content %}{% endblock %}
    </main>
    
    <!-- Footer with structured data -->
    <footer class="mt-5 py-4 bg-light">
      <div class="container text-center text-muted">
        <p class="mb-0">&copy; {% now "Y" %} Money Mates. All rights reserved.</p>
        <p class="mb-0"><small>Group Finance Tracker & Reminder System</small></p>
      </div>
    </footer>
    
    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    {% block extra_scripts %}{% endblock %}
    
    <!-- Structured Data (JSON-LD) -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "Money Mates",
      "description": "Group finance tracker with automated daily reminders",
      "url": "{{ request.scheme }}://{{ request.get_host }}",
      "applicationCategory": "FinanceApplication",
      "operatingSystem": "Web Browser",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      }
    }
    </script>
  </body>
</html>